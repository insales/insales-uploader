<html>

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="yandex-verification" content="64dd49e554a1afb9" />
  <!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
  <meta name="format-detection" content="telephone=no" />
  <meta name="format-detection" content="address=no" />
  <meta name="msapplication-tap-highlight" content="no" />
  <meta name="SKYPE_TOOLBAR" content="SKYPE_TOOLBAR_PARSER_COMPATIBLE" />
  <meta property="og:site_name" content="" />
  <meta property="og:url" content="" />
  <meta property="og:type" content="article" />
  <meta property="og:image" content="" />
  <meta property="og:title" content="" />
  <meta property="og:description" content="" />
  <title>Insales Uploader</title>
  <meta name="description" content="" />
  <meta name="keywords" content="" />
  <meta name="copyright" content="" />
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script src="/insales-uploader/js/jquery.min.js"></script>
  <script src="/insales-uploader/js/main.js"></script>
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" />
  <link rel="stylesheet" href="/insales-uploader/css/spider.css" />
  <link rel="stylesheet" href="/insales-uploader/css/main.css" />
</head>

<body>
  <div class="main_wrapper">
    <div class="main_header">
      <div class="infinite-border"></div>
      <div class="container_main text-center">
        <div class="row-flex flex-between">
          <h1><img width="120" src="/insales-uploader/logo.svg" /></h1>
          <div class="install">
            <div class="row-flex flex-center"><a href="https://github.com/insales/insales-uploader">github</a><a href="http://liquidhub.ru/">liquidhub</a></div>
          </div>
        </div>
        <div class="video-container">
          <video poster="https://cdn.rawgit.com/insales/insales-uploader/gh-pages/poster.png" playsinline="playsinline" autoplay="autoplay" muted="muted" loop="loop">
            <source src="https://cdn.rawgit.com/insales/insales-uploader/gh-pages/up.webm"/>
            <source src="https://cdn.rawgit.com/insales/insales-uploader/gh-pages/up.mp4"/>
          </video>
        </div>
        <div
          class="advantage row-flex flex-center is-grid">
          <div class="advantage-item"><img src="/insales-uploader/images/coding.svg" />
            <div class="advantage-text">Разработка сайтов на локальном диске</div>
          </div>
          <div class="advantage-item"><img src="/insales-uploader/images/gulp.svg" />
            <div class="advantage-text">Совместимость с тысячами Gulp плагинов</div>
          </div>
          <div class="advantage-item"><img src="/insales-uploader/images/list.svg" />
            <div class="advantage-text">Файлы шаблона автоматически сортируются по типам</div>
          </div>
      </div>
      <div class="text-center">
        <!--.next-button-->
      </div>
    </div>
  </div>
  <div class="custom container_main">
  	<h2>О модуле</h2>
    <p> InSales
      <> Uploader является модулем для node.js.</p>
    <p> Модуль даёт возможность разработки сайтов на платформе InSales на локальном диске.</p>
    <p> Общение с платформой идет через API, поэтому нужно получить ключи доступа в бэк-офисе.</p><br/><br/>
    <h2>Установка</h2>
    <div class="custom-inner">
      <pre>npm i -g insales-uploader</pre>
      <blockquote>InSales
        Если установить модуль глобально, методы можно запускать через команду <code>uploader</code><br/>При локальной установке подключение как обычно через require или import <code>const uploader = require('insales-uploader');</code></blockquote>
    </div>
  </div>
  <div class="doc container_main">
    <h2>Настройка</h2>
    <h3>Получить ключи доступа</h3>
    <div class="video-container"><video poster="/insales-uploader/images/access-key.png" playsinline="playsinline" autoplay="autoplay" muted="muted" loop="loop"><source src="https://cdn.rawgit.com/insales/insales-uploader/gh-pages/access-key.mp4"/></video></div><br/><br/>
    <div class="doc-inner">
      <h3>Локальное подкючение</h3>
      <pre><code class="highlight-js">// Настройки
const options = {
  account: {
    id: '0123456798',
    token: '0123456798',
    url: 'shop-41324.myinsales.ru',
    http: true
  },
  theme:{
    id: '854716', // id темы
    root: './', // Рабочая директория
    backup: true,
    assetsSync: true
  },
  util: {
    openBrowser: true
  }
};

// Инициализация
const uploader = require('insales-uploader');
const IU = new uploader(options);

IU.download()
  .then(()=&gt;{
    return IU.stream()
  })
</code></pre>
    </div>
    <div class="doc-block"><br/><br/>
      <h3>Консольный клиент</h3>
      <p>Чтобы воспользоваться InSales-Uploader через консоль, установите пакет глобально: <code>npm install -g insales-uploader</code></p>
      <p>Настройки для запуска методов из консоли беруться из файла insales-config.js.</p>
      <pre><code class="highlight-js">// Содержимое insales-config.js
module.exports = {
  account: {
    id: '0123456798',
    token: '0123456798',
    url: 'shop-41324.myinsales.ru',
    http: true
  },
  theme:{
    id: '854716',
    root: './',
    backup: true,
    assets: true,
    assetsSync: true,
    excludeFiles: []
  },
  util: {
    openBrowser: true
  }
};
</code></pre>
      <h4>Запуск методов:</h4>
      <p><code>uploader &lt;название метода&gt; &lt;название метода&gt;</code></p>
      <p>Примеры:</p>
      <p><code>uploader init</code> - создаст файл настроек <strong>insales-config.js</strong></p>
      <p><code>uploader</code> - запустит метод <code>start</code></p>
      <p><code>uploader download</code> - запустит метод <code>download</code></p>
      <p><code>uploader download stream</code> - запустит методы <code>download stream</code></p>
    </div>
  </div>
  <div class="container_main is-options" id="options">
    <h2>Параметры</h2>
    <table class="options">
      <tr>
        <th>
          Параметр
        </th>
        <th>
          Тип
        </th>
        <th>
          Значение поумолчанию
        </th>
        <th>
          Описание
        </th>
      </tr>
      <tr>
        <td colspan="4">
          account
        </td>
      </tr>
      <tr>
        <td>id</td>
        <td>string</td>
        <td>null</td>
        <td>Необходимо сгенерировать в бэк-офисе: Приложения -> Разработчикам -> Создать новый ключ доступа</td>
      </tr>
      <tr>
        <td>token</td>
        <td>string</td>
        <td>null</td>
        <td>Необходимо сгенерировать в бэк-офисе: Приложения -> Разработчикам -> Создать новый ключ доступа</td>
      </tr>
      <tr>
        <td>url</td>
        <td>string</td>
        <td>null</td>
        <td>Url магазина из бэк-офиса, ссылка не должна содержать 'http://' и '/'</td>
      </tr>
      <tr>
        <td>http</td>
        <td>boolean</td>
        <td>true</td>
        <td>Отсутствие ssl. Если у сайта есть ssl и возникают проблемы с api, нужно передать false</td>
      </tr>
      <tr>
        <td colspan="4">theme</td>
      </tr>
      <tr>
        <td>id</td>
        <td>string/number</td>
        <td>null</td>
        <td>Id темы</td>
      </tr>
      <tr>
        <td>root</td>
        <td>string</td>
        <td>'.'</td>
        <td>Корнеевая папка для сохранения темы</td>
      </tr>
      <tr>
        <td>backup</td>
        <td>boolean</td>
        <td>true</td>
        <td>Создавать резервные копии темы</td>
      </tr>
      <tr>
        <td>assetsSync</td>
        <td>boolean</td>
        <td>true</td>
        <td>Отслеживать директорию assets</td>
      </tr>
      <tr>
        <td>excludeFiles</td>
        <td>array</td>
        <td>[]</td>
        <td>Массив путей, которые будут игнорироваться при отслеживании изменений.</td>
      </tr>
      <tr>
        <td>assetsDomain</td>
        <td>string</td>
        <td>'https://assets.insales.ru'</td>
        <td>Адрес cdn с медиа файлами. Переключить на https://assets3.insales.ru в случае недоступности https://assets.insales.ru</td>
      </tr>
      <tr>
        <td>onUpdate</td>
        <td>function</td>
        <td>function(){}</td>
        <td>Колбек который срабатывает после каждого обновления в теме</td>
      </tr>
      <tr>
        <td colspan="4">util</td>
      </tr>
      <tr>
        <td>openBrowser</td>
        <td>boolean</td>
        <td>true</td>
        <td>Открывать сайт в браузере после запуска метода stream?</td>
      </tr>
      <tr>
        <td colspan="4">plugins</td>
      </tr>
      <tr>
        <td>exclude</td>
        <td>array</td>
        <td>[]</td>
        <td>Массив путей, которые будут игнорироваться плагинами.</td>
      </tr>
      <tr>
        <td>style</td>
        <td>function</td>
        <td>null</td>
        <td>
          Колбек для подключения плагинов по работе со стилями (<a href="https://github.com/insales-uploader/uploader-work-space/blob/a83e505e492e235204392950c9618ed682d91b79/insales-config.js#L42">Пример</a>).
        </td>
      </tr>
      <tr>
        <td>script</td>
        <td>function</td>
        <td>null</td>
        <td>
          Колбек для подключения плагинов по работе со скриптами (<a href="https://github.com/insales-uploader/uploader-work-space/blob/a83e505e492e235204392950c9618ed682d91b79/insales-config.js#L50">Пример</a>).
        </td>
      </tr>
      <tr>
        <td>img</td>
        <td>function</td>
        <td>null</td>
        <td>
          Колбек для подключения плагинов по работе с изображениями (<a href="https://github.com/insales-uploader/uploader-work-space/blob/a83e505e492e235204392950c9618ed682d91b79/insales-config.js#L55">Пример</a>).
        </td>
      </tr>
      <tr>
        <td>media</td>
        <td>function</td>
        <td>null</td>
        <td>
          Колбек для подключения плагинов по работе с медиафайлами.
        </td>
      </tr>
      <tr>
        <td>font</td>
        <td>function</td>
        <td>null</td>
        <td>
          Колбек для подключения плагинов по работе с шрифтами.
        </td>
      </tr>
    </table>
  </div>
  <div class="methods container_main">
    <h2>Методы</h2>
    <p><code>download</code> — загрузка темы на компьютер</p>
    <p><code>pull</code> — загрузка темы на компьютер. Перед началом загрузки, все локальные файлы удаляются</p>
    <p><code>upload</code> — загрузка темы на сервер с полным обновлением файлов.</p>
    <p><code>stream</code> — отслеживание изменений в файлах</p>
    <p><code>backup</code> — создание архива с резервной копией</p>
    <p><code>downloadFiles</code> — скачать файлы из раздела <code>файлы</code> в бэк-офисе</p>
    <p><code>uploadFiles</code> — загрузка файлов в раздел <code>файлы</code> (Загружаются файлы из директории <code>files</code>)</p>
  </div>
  </div>
</body>

</html>
